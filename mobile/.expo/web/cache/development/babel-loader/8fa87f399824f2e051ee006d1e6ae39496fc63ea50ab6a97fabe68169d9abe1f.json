{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport { useNavigation } from '@react-navigation/native';\nimport * as Yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useForm } from 'react-hook-form';\nimport { Container, Form, Buttons } from \"./styles\";\nimport Makeyourgologo from \"../../assets/makeyourgo.svg\";\nimport { Button } from \"../../components/Button\";\nimport { Link } from \"../../components/Link\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport { InputForm } from \"../../components/Input/InputForm\";\nimport { InputFormPassword } from \"../../components/InputPassword/InputFormPassword\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar schema = Yup.object().shape({\n  email: Yup.string().required(),\n  senha: Yup.string().required()\n});\nexport function SignIn() {\n  var _useAuth = useAuth(),\n    signIn = _useAuth.signIn;\n  var _useForm = useForm({\n      resolver: yupResolver(schema)\n    }),\n    control = _useForm.control,\n    handleSubmit = _useForm.handleSubmit,\n    errors = _useForm.formState.errors;\n  var navigation = useNavigation();\n  function handleRegister(form) {\n    var data;\n    return _regeneratorRuntime.async(function handleRegister$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = {\n              email: form.email,\n              senha: form.senha\n            };\n            try {\n              signIn(data.email, data.senha);\n            } catch (error) {\n              Alert.alert('Opa', 'Login indisponivel no momento !');\n            }\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n  return _jsxs(Container, {\n    children: [_jsx(StatusBar, {\n      barStyle: \"light-content\",\n      backgroundColor: \"transparent\",\n      translucent: true\n    }), _jsx(Makeyourgologo, {}), _jsxs(Form, {\n      children: [_jsx(InputForm, {\n        control: control,\n        name: \"email\",\n        title: \"Email\",\n        autoCapitalize: \"sentences\",\n        autoCorrect: false,\n        error: !!errors.email\n      }), _jsx(InputFormPassword, {\n        control: control,\n        name: \"senha\",\n        title: \"Senha\",\n        autoCapitalize: \"sentences\",\n        autoCorrect: false,\n        error: !!errors.senha\n      }), _jsxs(Buttons, {\n        children: [_jsx(Button, {\n          title: \"Entrar\",\n          onPress: handleSubmit(handleRegister)\n        }), _jsx(Button, {\n          title: \"Cadastrar\",\n          navegator: function navegator() {\n            return navigation.navigate('RegisterPage');\n          }\n        })]\n      })]\n    }), _jsx(Link, {\n      textColor: \"#f7b538\",\n      title: \"Esqueci minha senha\",\n      navegator: function navegator() {\n        return navigation.navigate('ForgotPasswordFirstStep');\n      }\n    })]\n  });\n}","map":{"version":3,"names":["React","useNavigation","Yup","yupResolver","useForm","Container","Form","Buttons","Makeyourgologo","Button","Link","useAuth","Alert","StatusBar","InputForm","InputFormPassword","jsx","_jsx","jsxs","_jsxs","schema","object","shape","email","string","required","senha","SignIn","_useAuth","signIn","_useForm","resolver","control","handleSubmit","errors","formState","navigation","handleRegister","form","data","_regeneratorRuntime","async","handleRegister$","_context","prev","next","error","alert","stop","Promise","children","barStyle","backgroundColor","translucent","name","title","autoCapitalize","autoCorrect","onPress","navegator","navigate","textColor"],"sources":["C:/Users/Guilherme/Documents/MakeYourGO/mobile/src/pages/SignIn/index.tsx"],"sourcesContent":["/* eslint-disable space-before-function-paren */\r\n/* eslint-disable indent */\r\nimport React, { useState } from 'react';\r\n\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nimport { Container, Form, Buttons } from './styles';\r\nimport Makeyourgologo from '../../assets/makeyourgo.svg';\r\n\r\nimport { Button } from '../../components/Button';\r\nimport { Link } from '../../components/Link';\r\n\r\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\r\nimport { RootStackParamList } from '../../routes/AppStack';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { Alert, StatusBar } from 'react-native';\r\nimport { InputForm } from '../../components/Input/InputForm';\r\nimport { InputFormPassword } from '../../components/InputPassword/InputFormPassword';\r\n\r\ninterface FormData {\r\n  email: string;\r\n  senha: string;\r\n}\r\n\r\ntype RegisterPageProp = NativeStackNavigationProp<\r\n  RootStackParamList,\r\n  'RegisterPage',\r\n  'ForgotPasswordFirstStep'\r\n>;\r\n\r\nconst schema = Yup.object().shape({\r\n  email: Yup.string().required(),\r\n  senha: Yup.string().required()\r\n});\r\n\r\nexport function SignIn() {\r\n  const { signIn } = useAuth();\r\n\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm({\r\n    resolver: yupResolver(schema)\r\n  });\r\n\r\n  const navigation = useNavigation<RegisterPageProp>();\r\n\r\n  async function handleRegister(form: FormData) {\r\n    const data = {\r\n      email: form.email,\r\n      senha: form.senha\r\n    };\r\n\r\n    try {\r\n      signIn(data.email, data.senha);\r\n    } catch (error) {\r\n      Alert.alert('Opa', 'Login indisponivel no momento !');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <StatusBar\r\n        barStyle=\"light-content\"\r\n        backgroundColor=\"transparent\"\r\n        translucent\r\n      />\r\n      <Makeyourgologo />\r\n      <Form>\r\n        <InputForm\r\n          control={control}\r\n          name=\"email\"\r\n          title=\"Email\"\r\n          autoCapitalize=\"sentences\"\r\n          autoCorrect={false}\r\n          error={!!errors.email}\r\n        />\r\n        <InputFormPassword\r\n          control={control}\r\n          name=\"senha\"\r\n          title=\"Senha\"\r\n          autoCapitalize=\"sentences\"\r\n          autoCorrect={false}\r\n          error={!!errors.senha}\r\n        />\r\n\r\n        <Buttons>\r\n          <Button title=\"Entrar\" onPress={handleSubmit(handleRegister)} />\r\n          <Button\r\n            title=\"Cadastrar\"\r\n            navegator={() => navigation.navigate('RegisterPage')}\r\n          />\r\n        </Buttons>\r\n      </Form>\r\n\r\n      <Link\r\n        textColor='#f7b538'\r\n        title=\"Esqueci minha senha\"\r\n        navegator={() => navigation.navigate('ForgotPasswordFirstStep')}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":";AAEA,OAAOA,KAAK,MAAoB,OAAO;AAEvC,SAASC,aAAa,QAAQ,0BAA0B;AAExD,OAAO,KAAKC,GAAG,MAAM,KAAK;AAC1B,SAASC,WAAW,QAAQ,yBAAyB;AACrD,SAASC,OAAO,QAAQ,iBAAiB;AAEzC,SAASC,SAAS,EAAEC,IAAI,EAAEC,OAAO;AACjC,OAAOC,cAAc;AAErB,SAASC,MAAM;AACf,SAASC,IAAI;AAIb,SAASC,OAAO;AAAqC,OAAAC,KAAA;AAAA,OAAAC,SAAA;AAErD,SAASC,SAAS;AAClB,SAASC,iBAAiB;AAA2D,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAarF,IAAMC,MAAM,GAAGlB,GAAG,CAACmB,MAAM,EAAE,CAACC,KAAK,CAAC;EAChCC,KAAK,EAAErB,GAAG,CAACsB,MAAM,EAAE,CAACC,QAAQ,EAAE;EAC9BC,KAAK,EAAExB,GAAG,CAACsB,MAAM,EAAE,CAACC,QAAQ;AAC9B,CAAC,CAAC;AAEF,OAAO,SAASE,MAAMA,CAAA,EAAG;EACvB,IAAAC,QAAA,GAAmBjB,OAAO,EAAE;IAApBkB,MAAM,GAAAD,QAAA,CAANC,MAAM;EAEd,IAAAC,QAAA,GAII1B,OAAO,CAAC;MACV2B,QAAQ,EAAE5B,WAAW,CAACiB,MAAM;IAC9B,CAAC,CAAC;IALAY,OAAO,GAAAF,QAAA,CAAPE,OAAO;IACPC,YAAY,GAAAH,QAAA,CAAZG,YAAY;IACCC,MAAM,GAAAJ,QAAA,CAAnBK,SAAS,CAAID,MAAM;EAKrB,IAAME,UAAU,GAAGnC,aAAa,EAAoB;EAEpD,SAAeoC,cAAcA,CAACC,IAAc;IAAA,IAAAC,IAAA;IAAA,OAAAC,mBAAA,CAAAC,KAAA,UAAAC,gBAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACpCN,IAAI,GAAG;cACXhB,KAAK,EAAEe,IAAI,CAACf,KAAK;cACjBG,KAAK,EAAEY,IAAI,CAACZ;YACd,CAAC;YAED,IAAI;cACFG,MAAM,CAACU,IAAI,CAAChB,KAAK,EAAEgB,IAAI,CAACb,KAAK,CAAC;YAChC,CAAC,CAAC,OAAOoB,KAAK,EAAE;cACdlC,KAAK,CAACmC,KAAK,CAAC,KAAK,EAAE,iCAAiC,CAAC;YACvD;UAAC;UAAA;YAAA,OAAAJ,QAAA,CAAAK,IAAA;QAAA;MAAA;IAAA,qBAAAC,OAAA;EAAA;EAGH,OACE9B,KAAA,CAACd,SAAS;IAAA6C,QAAA,GACRjC,IAAA,CAACJ,SAAS;MACRsC,QAAQ,EAAC,eAAe;MACxBC,eAAe,EAAC,aAAa;MAC7BC,WAAW;IAAA,EACX,EACFpC,IAAA,CAACT,cAAc,KAAG,EAClBW,KAAA,CAACb,IAAI;MAAA4C,QAAA,GACHjC,IAAA,CAACH,SAAS;QACRkB,OAAO,EAAEA,OAAQ;QACjBsB,IAAI,EAAC,OAAO;QACZC,KAAK,EAAC,OAAO;QACbC,cAAc,EAAC,WAAW;QAC1BC,WAAW,EAAE,KAAM;QACnBX,KAAK,EAAE,CAAC,CAACZ,MAAM,CAACX;MAAM,EACtB,EACFN,IAAA,CAACF,iBAAiB;QAChBiB,OAAO,EAAEA,OAAQ;QACjBsB,IAAI,EAAC,OAAO;QACZC,KAAK,EAAC,OAAO;QACbC,cAAc,EAAC,WAAW;QAC1BC,WAAW,EAAE,KAAM;QACnBX,KAAK,EAAE,CAAC,CAACZ,MAAM,CAACR;MAAM,EACtB,EAEFP,KAAA,CAACZ,OAAO;QAAA2C,QAAA,GACNjC,IAAA,CAACR,MAAM;UAAC8C,KAAK,EAAC,QAAQ;UAACG,OAAO,EAAEzB,YAAY,CAACI,cAAc;QAAE,EAAG,EAChEpB,IAAA,CAACR,MAAM;UACL8C,KAAK,EAAC,WAAW;UACjBI,SAAS,EAAE,SAAAA,UAAA;YAAA,OAAMvB,UAAU,CAACwB,QAAQ,CAAC,cAAc,CAAC;UAAA;QAAC,EACrD;MAAA,EACM;IAAA,EACL,EAEP3C,IAAA,CAACP,IAAI;MACHmD,SAAS,EAAC,SAAS;MACnBN,KAAK,EAAC,qBAAqB;MAC3BI,SAAS,EAAE,SAAAA,UAAA;QAAA,OAAMvB,UAAU,CAACwB,QAAQ,CAAC,yBAAyB,CAAC;MAAA;IAAC,EAChE;EAAA,EACQ;AAEhB"},"metadata":{},"sourceType":"module","externalDependencies":[]}